import{u as w,r as m,c as j,o as D,a as u,j as c,b as e,h as T,t as s,F as N,m as U,k as y,i as $,v as b,C as A,L as J,e as M,p as E}from"./vendor-xt8QQBuL.js";import{a as I}from"./index-DooXIuO7.js";import"./animations-Brfk6Bdo.js";const B={class:"learning-goals-settings"},F={class:"section-title"},L={key:0,class:"goals-list"},P={class:"goal-content"},q={class:"goal-header"},Y={class:"goal-title"},z={class:"goal-actions"},H=["onClick"],K=["onClick"],Q={class:"goal-description"},W={class:"goal-meta"},X={class:"goal-duration"},Z={key:0,class:"goal-subject"},x={key:1,class:"empty-goals"},ee={class:"empty-text"},te={class:"modal-header"},se={class:"modal-title"},oe={class:"modal-body"},ne={class:"form-group"},ae={for:"goal-title"},ie=["placeholder"],le={class:"form-group"},de={for:"goal-description"},re=["placeholder"],ue={class:"form-row"},ce={class:"form-group half"},ve={for:"goal-duration"},me={class:"form-group half"},pe={for:"goal-subject"},ge=["placeholder"],$e={class:"form-group"},fe={for:"goal-timer-type"},_e={value:""},he={value:"egg"},be={value:"clock"},ye={value:"candle"},ke={value:"snail"},Se={value:"duck"},Ce={value:"puppy"},Re={value:"rocket"},Ge={value:"running"},Te={class:"modal-footer"},we=["disabled"],Ie={__name:"LearningGoalSettings",setup(V){const{t:p}=w(),l=m([]),i=m({title:"",description:"",duration:5,subject:"",timerType:""}),v=m(!1),r=m(!1),g=m(-1),f=j(()=>i.value.title.trim()!==""&&i.value.duration>0),k=o=>{if(o<60)return`${o} ${p("common.minutes")}`;{const n=Math.floor(o/60),t=o%60;return t===0?`${n} ${p("education.hours")||"小时"}`:`${n} ${p("education.hours")||"小时"} ${t} ${p("common.minutes")}`}},S=()=>{if(!f.value)return;const o={...i.value};r.value?l.value[g.value]=o:l.value.push(o),localStorage.setItem("learningGoals",JSON.stringify(l.value)),_()},C=o=>{r.value=!0,g.value=o,i.value={...l.value[o]},v.value=!0},R=o=>{confirm(p("education.confirmDeleteGoal")||"确定要删除此学习目标吗？")&&(l.value.splice(o,1),localStorage.setItem("learningGoals",JSON.stringify(l.value)))},_=()=>{v.value=!1,r.value=!1,g.value=-1,i.value={title:"",description:"",duration:5,subject:"",timerType:""}};return D(()=>{const o=localStorage.getItem("learningGoals");o&&(l.value=JSON.parse(o))}),(o,n)=>(c(),u("div",B,[e("div",F,s(o.$t("education.learningGoals")||"学习目标设置"),1),l.value.length>0?(c(),u("div",L,[(c(!0),u(N,null,U(l.value,(t,a)=>(c(),u("div",{key:a,class:"goal-item"},[e("div",P,[e("div",q,[e("h3",Y,s(t.title),1),e("div",z,[e("button",{class:"edit-button",onClick:d=>C(a)},n[7]||(n[7]=[e("i",{class:"fas fa-edit"},null,-1)]),8,H),e("button",{class:"delete-button",onClick:d=>R(a)},n[8]||(n[8]=[e("i",{class:"fas fa-trash"},null,-1)]),8,K)])]),e("p",Q,s(t.description),1),e("div",W,[e("span",X,[n[9]||(n[9]=e("i",{class:"fas fa-clock"},null,-1)),y(" "+s(k(t.duration)),1)]),t.subject?(c(),u("span",Z,[n[10]||(n[10]=e("i",{class:"fas fa-book"},null,-1)),y(" "+s(t.subject),1)])):T("",!0)])])]))),128))])):(c(),u("div",x,[n[11]||(n[11]=e("div",{class:"empty-icon"},[e("i",{class:"fas fa-tasks"})],-1)),e("p",ee,s(o.$t("education.noGoalsYet")||"暂无学习目标"),1)])),e("button",{class:"add-goal-button",onClick:n[0]||(n[0]=t=>v.value=!0)},[n[12]||(n[12]=e("i",{class:"fas fa-plus"},null,-1)),y(" "+s(o.$t("education.addGoal")||"添加学习目标"),1)]),v.value?(c(),u("div",{key:2,class:"modal-overlay",onClick:_},[e("div",{class:"modal-content",onClick:n[6]||(n[6]=J(()=>{},["stop"]))},[e("div",te,[e("h2",se,s(r.value?o.$t("education.editGoal")||"编辑学习目标":o.$t("education.addGoal")||"添加学习目标"),1),e("button",{class:"close-button",onClick:_},n[13]||(n[13]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",oe,[e("div",ne,[e("label",ae,s(o.$t("education.goalTitle")||"目标标题")+" *",1),$(e("input",{type:"text",id:"goal-title","onUpdate:modelValue":n[1]||(n[1]=t=>i.value.title=t),placeholder:o.$t("education.enterTitle")||"输入目标标题",required:""},null,8,ie),[[b,i.value.title]])]),e("div",le,[e("label",de,s(o.$t("education.goalDescription")||"目标描述"),1),$(e("textarea",{id:"goal-description","onUpdate:modelValue":n[2]||(n[2]=t=>i.value.description=t),placeholder:o.$t("education.enterDescription")||"输入目标描述",rows:"3"},null,8,re),[[b,i.value.description]])]),e("div",ue,[e("div",ce,[e("label",ve,s(o.$t("education.duration")||"持续时间(分钟)")+" *",1),$(e("input",{type:"number",id:"goal-duration","onUpdate:modelValue":n[3]||(n[3]=t=>i.value.duration=t),min:"1",max:"120",required:""},null,512),[[b,i.value.duration]])]),e("div",me,[e("label",pe,s(o.$t("education.subject")||"学科"),1),$(e("input",{type:"text",id:"goal-subject","onUpdate:modelValue":n[4]||(n[4]=t=>i.value.subject=t),placeholder:o.$t("education.enterSubject")||"输入学科"},null,8,ge),[[b,i.value.subject]])])]),e("div",$e,[e("label",fe,s(o.$t("education.timerType")||"计时器类型"),1),$(e("select",{id:"goal-timer-type","onUpdate:modelValue":n[5]||(n[5]=t=>i.value.timerType=t)},[e("option",_e,s(o.$t("education.selectTimer")||"选择计时器"),1),e("option",he,s(o.$t("timers.egg")),1),e("option",be,s(o.$t("timers.clock")),1),e("option",ye,s(o.$t("timers.candle")),1),e("option",ke,s(o.$t("timers.snail")),1),e("option",Se,s(o.$t("timers.duck")),1),e("option",Ce,s(o.$t("timers.puppy")),1),e("option",Re,s(o.$t("timers.rocket")),1),e("option",Ge,s(o.$t("timers.running")),1)],512),[[A,i.value.timerType]])])]),e("div",Te,[e("button",{class:"cancel-button",onClick:_},s(o.$t("common.cancel")),1),e("button",{class:"save-button",onClick:S,disabled:!f.value},s(o.$t("common.save")),9,we)])])])):T("",!0)]))}},Ve=I(Ie,[["__scopeId","data-v-3576ad40"]]),Me={class:"activity-reminder"},je={class:"section-title"},De={class:"reminder-description"},Ne={key:0,class:"reminders-list"},Ue={class:"reminder-content"},Ae={class:"reminder-time"},Je={class:"time-text"},Oe={class:"percentage"},Ee={class:"time-value"},Be={class:"reminder-message"},Fe={class:"reminder-actions"},Le=["onClick"],Pe=["onClick"],qe={key:1,class:"empty-reminders"},Ye={class:"empty-text"},ze={class:"modal-header"},He={class:"modal-title"},Ke={class:"modal-body"},Qe={class:"form-group"},We={for:"reminder-percentage"},Xe={class:"percentage-input-wrapper"},Ze={class:"percentage-value"},xe={class:"time-preview"},et={class:"form-group"},tt={for:"reminder-message"},st=["placeholder"],ot={class:"form-group"},nt={for:"reminder-sound"},at={value:"bell"},it={value:"chime"},lt={value:"alert"},dt={value:"none"},rt=["disabled"],ut={class:"modal-footer"},ct=["disabled"],vt={__name:"ActivityReminder",setup(V){const{t:p}=w(),l=m([]),i=m({percentage:50,message:"",sound:"bell"}),v=m(10),r=m(!1),g=m(!1),f=m(-1),k=j(()=>i.value.message.trim()!==""),S=t=>{const a=(100-t)/100,d=v.value*60,h=Math.floor(d*a),G=Math.floor(h/60),O=h%60;return`${G}:${O.toString().padStart(2,"0")}`},C=()=>{const t=i.value.sound;if(t==="none")return;new Audio(`/sounds/${t}.mp3`).play().catch(d=>{console.error("Failed to play sound:",d)})},R=()=>{if(!k.value)return;const t={...i.value};g.value?l.value[f.value]=t:l.value.push(t),l.value.sort((a,d)=>d.percentage-a.percentage),localStorage.setItem("activityReminders",JSON.stringify(l.value)),n()},_=t=>{g.value=!0,f.value=t,i.value={...l.value[t]},r.value=!0},o=t=>{confirm(p("education.confirmDeleteReminder")||"确定要删除此提醒吗？")&&(l.value.splice(t,1),localStorage.setItem("activityReminders",JSON.stringify(l.value)))},n=()=>{r.value=!1,g.value=!1,f.value=-1,i.value={percentage:50,message:"",sound:"bell"}};return D(()=>{const t=localStorage.getItem("activityReminders");t&&(l.value=JSON.parse(t));const a=localStorage.getItem("defaultTimerDuration");a&&(v.value=parseInt(a))}),(t,a)=>(c(),u("div",Me,[e("div",je,s(t.$t("education.activityReminder")||"活动计时提醒"),1),e("div",De,[e("p",null,s(t.$t("education.reminderDescription")||"设置计时过程中的提醒，帮助更好地组织教学活动"),1)]),l.value.length>0?(c(),u("div",Ne,[(c(!0),u(N,null,U(l.value,(d,h)=>(c(),u("div",{key:h,class:"reminder-item"},[e("div",Ue,[e("div",Ae,[a[5]||(a[5]=e("div",{class:"time-icon"},[e("i",{class:"fas fa-bell"})],-1)),e("div",Je,[e("span",Oe,s(d.percentage)+"%",1),e("span",Ee,s(S(d.percentage)),1)])]),e("div",Be,s(d.message),1),e("div",Fe,[e("button",{class:"edit-button",onClick:G=>_(h)},a[6]||(a[6]=[e("i",{class:"fas fa-edit"},null,-1)]),8,Le),e("button",{class:"delete-button",onClick:G=>o(h)},a[7]||(a[7]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Pe)])])]))),128))])):(c(),u("div",qe,[a[8]||(a[8]=e("div",{class:"empty-icon"},[e("i",{class:"fas fa-bell-slash"})],-1)),e("p",Ye,s(t.$t("education.noRemindersYet")||"暂无活动提醒"),1)])),e("button",{class:"add-reminder-button",onClick:a[0]||(a[0]=d=>r.value=!0)},[a[9]||(a[9]=e("i",{class:"fas fa-plus"},null,-1)),y(" "+s(t.$t("education.addReminder")||"添加提醒"),1)]),r.value?(c(),u("div",{key:2,class:"modal-overlay",onClick:n},[e("div",{class:"modal-content",onClick:a[4]||(a[4]=J(()=>{},["stop"]))},[e("div",ze,[e("h2",He,s(g.value?t.$t("education.editReminder")||"编辑提醒":t.$t("education.addReminder")||"添加提醒"),1),e("button",{class:"close-button",onClick:n},a[10]||(a[10]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Ke,[e("div",Qe,[e("label",We,s(t.$t("education.reminderTime")||"提醒时间点")+" (%)",1),e("div",Xe,[$(e("input",{type:"range",id:"reminder-percentage","onUpdate:modelValue":a[1]||(a[1]=d=>i.value.percentage=d),min:"1",max:"99",class:"percentage-slider"},null,512),[[b,i.value.percentage,void 0,{number:!0}]]),e("div",Ze,s(i.value.percentage)+"%",1)]),e("div",xe,s(t.$t("education.triggerAt")||"将在剩余")+" "+s(S(i.value.percentage))+" "+s(t.$t("education.timeRemaining")||"时触发"),1)]),e("div",et,[e("label",tt,s(t.$t("education.reminderMessage")||"提醒消息")+" *",1),$(e("textarea",{id:"reminder-message","onUpdate:modelValue":a[2]||(a[2]=d=>i.value.message=d),placeholder:t.$t("education.enterMessage")||"输入提醒消息",rows:"3",required:""},null,8,st),[[b,i.value.message]])]),e("div",ot,[e("label",nt,s(t.$t("education.reminderSound")||"提醒声音"),1),$(e("select",{id:"reminder-sound","onUpdate:modelValue":a[3]||(a[3]=d=>i.value.sound=d)},[e("option",at,s(t.$t("education.bellSound")||"铃声"),1),e("option",it,s(t.$t("education.chimeSound")||"风铃声"),1),e("option",lt,s(t.$t("education.alertSound")||"提示音"),1),e("option",dt,s(t.$t("education.noSound")||"无声音"),1)],512),[[A,i.value.sound]]),e("button",{class:"preview-sound-button",onClick:C,disabled:i.value.sound==="none"},[a[11]||(a[11]=e("i",{class:"fas fa-play"},null,-1)),y(" "+s(t.$t("education.preview")||"预览"),1)],8,rt)])]),e("div",ut,[e("button",{class:"cancel-button",onClick:n},s(t.$t("common.cancel")),1),e("button",{class:"save-button",onClick:R,disabled:!k.value},s(t.$t("common.save")),9,ct)])])])):T("",!0)]))}},mt=I(vt,[["__scopeId","data-v-ccc99fd3"]]),pt={class:"education-page"},gt={class:"education-header"},$t={class:"education-title"},ft={class:"education-content"},_t={class:"education-intro"},ht={class:"intro-text"},bt={class:"education-sections"},yt={__name:"EducationPage",setup(V){const p=E(),{t:l}=w(),i=()=>{p.go(-1)};return(v,r)=>(c(),u("div",pt,[e("div",gt,[e("button",{class:"back-button",onClick:i},[r[0]||(r[0]=e("i",{class:"fas fa-arrow-left"},null,-1)),y(" "+s(v.$t("common.back")),1)]),e("h1",$t,s(v.$t("education.title")||"教育设置"),1)]),e("div",ft,[e("div",_t,[r[1]||(r[1]=e("div",{class:"intro-icon"},[e("i",{class:"fas fa-graduation-cap"})],-1)),e("div",ht,[e("h2",null,s(v.$t("education.introTitle")||"教学助手"),1),e("p",null,s(v.$t("education.introText")||"管理学习目标和活动提醒，帮助您更好地组织教学活动"),1)])]),e("div",bt,[M(Ve),M(mt)])])]))}},Rt=I(yt,[["__scopeId","data-v-18dd7487"]]);export{Rt as default};
