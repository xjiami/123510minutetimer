import{u as C,r as v,c as V,o as M,a as m,j as p,b as e,h as f,t as n,i as w,n as $,v as E,l as I,F as A,m as L,k as x,e as B,p as T}from"./vendor-xt8QQBuL.js";import{a as P}from"./index-DooXIuO7.js";import"./animations-Brfk6Bdo.js";const U={class:"sound-settings"},N={class:"section-title"},O={class:"setting-row"},R={class:"setting-label"},z={class:"setting-control"},D={class:"toggle-switch"},j=["checked"],W={key:0,class:"setting-row"},q={class:"setting-label"},G={class:"setting-control volume-control"},H={class:"volume-value"},J={key:1,class:"sound-preview"},K={__name:"SoundSettings",setup(F){const{t:b}=C();b("settings.testSound","æµ‹è¯•éŸ³æ•ˆ");const u=v(!0),o=v(80),a=v(!1),l=v(null),c=V(()=>a.value||o.value===0?"fas fa-volume-mute":o.value<30?"fas fa-volume-off":o.value<70?"fas fa-volume-down":"fas fa-volume-up");M(()=>{const d=localStorage.getItem("soundEnabled"),r=localStorage.getItem("soundVolume"),y=localStorage.getItem("soundMuted");d!==null&&(u.value=d==="true"),r!==null&&(o.value=parseInt(r)),y!==null&&(a.value=y==="true"),l.value=new Audio("/sounds/timer-end.mp3")});const g=d=>{u.value=d.target.checked,localStorage.setItem("soundEnabled",u.value.toString()),window.dispatchEvent(new CustomEvent("sound-setting-changed",{detail:{enabled:u.value,volume:o.value,muted:a.value}}))},_=()=>{o.value>0&&a.value&&(a.value=!1,localStorage.setItem("soundMuted","false")),localStorage.setItem("soundVolume",o.value.toString()),l.value&&(l.value.volume=o.value/100),window.dispatchEvent(new CustomEvent("sound-volume-changed",{detail:{volume:o.value/100}}))},h=()=>{a.value=!a.value,localStorage.setItem("soundMuted",a.value.toString()),window.dispatchEvent(new CustomEvent("sound-mute-changed",{detail:{muted:a.value}}))},S=()=>{l.value&&u.value&&!a.value&&(l.value.volume=o.value/100,l.value.currentTime=0,l.value.play())};return(d,r)=>(p(),m("div",U,[e("div",N,n(d.$t("settings.sound")),1),e("div",O,[e("div",R,n(d.$t("settings.enableSound")),1),e("div",z,[e("label",D,[e("input",{type:"checkbox",checked:u.value,onChange:g},null,40,j),r[1]||(r[1]=e("span",{class:"toggle-slider"},null,-1))])])]),u.value?(p(),m("div",W,[e("div",q,n(d.$t("settings.volume")),1),e("div",G,[e("div",{class:"volume-icon",onClick:h},[e("i",{class:$(c.value)},null,2)]),w(e("input",{type:"range",min:"0",max:"100",step:"1","onUpdate:modelValue":r[0]||(r[0]=y=>o.value=y),onInput:_,class:"volume-slider"},null,544),[[E,o.value]]),e("div",H,n(o.value)+"%",1)])])):f("",!0),u.value?(p(),m("div",J,[e("button",{class:"preview-button",onClick:S},n(d.$t("settings.testSound")),1)])):f("",!0)]))}},Q=P(K,[["__scopeId","data-v-01fcc2c1"]]),X={class:"language-selector cartoon-card"},Y={class:"section-title"},Z={class:"language-options"},ee=["onClick"],te={class:"language-flag"},se={class:"language-info"},oe={class:"language-name"},ae={key:0,class:"active-indicator"},ne={__name:"LanguageSelector",setup(F){const{locale:b,t:u}=C(),o=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"}],a=l=>{b.value=l,localStorage.setItem("appLanguage",l)};return(l,c)=>(p(),m("div",X,[e("h3",Y,n(I(u)("settings.language")),1),e("div",Z,[(p(),m(A,null,L(o,g=>e("div",{key:g.code,class:$(["language-option",{active:I(b)===g.code}]),onClick:_=>a(g.code)},[e("div",te,n(g.flag),1),e("div",se,[e("span",oe,n(g.name),1),I(b)===g.code?(p(),m("span",ae,c[0]||(c[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"20 6 9 17 4 12"})],-1)]))):f("",!0)])],10,ee)),64))])]))}},le=P(ne,[["__scopeId","data-v-b4f60c56"]]),ie={class:"settings-page"},ue={class:"settings-header"},ce={class:"settings-title"},de={class:"settings-content"},re={class:"settings-section appearance-settings"},ge={class:"section-title"},ve={class:"theme-options"},me={class:"theme-label"},pe={class:"theme-label"},be={class:"settings-section background-settings"},ye={class:"section-title"},_e={class:"background-options"},ke={class:"background-upload"},he={for:"background-upload",class:"upload-label"},fe={key:0,class:"background-preview"},$e=["src"],Se={class:"background-options-controls"},Ie={class:"background-opacity"},we={class:"background-blur"},Ee={__name:"SettingsPage",setup(F){const b=T(),{t:u}=C(),o=v("light"),a=v(""),l=v(80),c=v(0),g=()=>{b.go(-1)},_=s=>{o.value=s,localStorage.setItem("theme",s),h(s),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{theme:s}}))},h=s=>{const t=document.documentElement;s==="dark"?(t.style.setProperty("--bg-color","#121212"),t.style.setProperty("--card-bg","#1E1E1E"),t.style.setProperty("--text-primary","#FFFFFF"),t.style.setProperty("--text-secondary","#AAAAAA"),t.style.setProperty("--border-color","#333333"),t.style.setProperty("--inactive-bg","#555555"),document.body.classList.add("dark-mode")):(t.style.setProperty("--bg-color","#F5F5F5"),t.style.setProperty("--card-bg","#FFFFFF"),t.style.setProperty("--text-primary","#333333"),t.style.setProperty("--text-secondary","#666666"),t.style.setProperty("--border-color","#EEEEEE"),t.style.setProperty("--inactive-bg","#CCCCCC"),document.body.classList.remove("dark-mode"))},S=s=>{const t=s.target.files[0];if(t&&t.type.startsWith("image/")){const i=new FileReader;i.onload=k=>{a.value=k.target.result,localStorage.setItem("backgroundImage",k.target.result),r()},i.readAsDataURL(t)}},d=()=>{a.value="",localStorage.removeItem("backgroundImage"),document.body.style.backgroundImage="none"},r=()=>{localStorage.setItem("backgroundOpacity",l.value),localStorage.setItem("backgroundBlur",c.value),y()},y=()=>{const s=document.body;if(a.value){s.style.backgroundImage=`url(${a.value})`,s.style.backgroundSize="cover",s.style.backgroundPosition="center",s.style.backgroundAttachment="fixed",s.style.backgroundRepeat="no-repeat",s.style.backgroundBlendMode="normal";const t=l.value/100,i=c.value;s.style.setProperty("--bg-overlay-opacity",1-t),s.style.setProperty("--bg-blur",`${i}px`)}else s.style.backgroundImage="none"};return M(()=>{const s=localStorage.getItem("theme")||"light";o.value=s,h(s);const t=localStorage.getItem("backgroundImage");t&&(a.value=t);const i=localStorage.getItem("backgroundOpacity");i&&(l.value=parseInt(i));const k=localStorage.getItem("backgroundBlur");k&&(c.value=parseInt(k)),y()}),(s,t)=>(p(),m("div",ie,[e("div",ue,[e("button",{class:"back-button",onClick:g},[t[4]||(t[4]=e("i",{class:"fas fa-arrow-left"},null,-1)),x(" "+n(s.$t("common.back")),1)]),e("h1",ce,n(s.$t("settings.title")),1)]),e("div",de,[B(Q,{class:"settings-section"}),B(le,{class:"settings-section"}),e("div",re,[e("div",ge,n(s.$t("settings.appearance")),1),e("div",ve,[e("div",{class:$(["theme-option",{active:o.value==="light"}]),onClick:t[0]||(t[0]=i=>_("light"))},[t[5]||(t[5]=e("div",{class:"theme-icon light-icon"},[e("i",{class:"fas fa-sun"})],-1)),e("div",me,n(s.$t("settings.lightMode")),1)],2),e("div",{class:$(["theme-option",{active:o.value==="dark"}]),onClick:t[1]||(t[1]=i=>_("dark"))},[t[6]||(t[6]=e("div",{class:"theme-icon dark-icon"},[e("i",{class:"fas fa-moon"})],-1)),e("div",pe,n(s.$t("settings.darkMode")),1)],2)])]),e("div",be,[e("div",ye,n(s.$t("settings.backgroundImage")||"è‡ªå®šä¹‰èƒŒæ™¯å›¾ç‰‡"),1),e("div",_e,[e("div",ke,[e("label",he,[t[7]||(t[7]=e("i",{class:"fas fa-upload"},null,-1)),e("span",null,n(s.$t("settings.uploadImage")||"ä¸Šä¼ å›¾ç‰‡"),1)]),e("input",{type:"file",id:"background-upload",accept:"image/*",onChange:S,class:"upload-input"},null,32)]),a.value?(p(),m("div",fe,[e("img",{src:a.value,alt:"Background preview",class:"preview-image"},null,8,$e),e("button",{class:"remove-background",onClick:d},t[8]||(t[8]=[e("i",{class:"fas fa-times"},null,-1)]))])):f("",!0),e("div",Se,[e("div",Ie,[e("label",null,n(s.$t("settings.opacity")||"ä¸é€æ˜Žåº¦"),1),w(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":t[2]||(t[2]=i=>l.value=i),onInput:r},null,544),[[E,l.value]]),e("span",null,n(l.value)+"%",1)]),e("div",we,[e("label",null,n(s.$t("settings.blur")||"æ¨¡ç³Šåº¦"),1),w(e("input",{type:"range",min:"0",max:"20","onUpdate:modelValue":t[3]||(t[3]=i=>c.value=i),onInput:r},null,544),[[E,c.value]]),e("span",null,n(c.value)+"px",1)])])])])]),t[9]||(t[9]=e("div",{class:"settings-footer"},[e("div",{class:"version-info"},"v1.0.0")],-1))]))}},Be=P(Ee,[["__scopeId","data-v-f1640cb0"]]);export{Be as default};
